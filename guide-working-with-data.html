<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>1.3&nbsp;Working with data</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">The Hackett Programming Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="guide.html" class="tocviewselflink" data-pltdoc="x">The Hackett Guide</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="reference.html" class="tocviewlink" data-pltdoc="x">The Hackett Reference</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" data-pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>1&nbsp;</td><td><a href="guide.html" class="tocviewlink" data-pltdoc="x">The Hackett Guide</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="guide-quick-start.html" class="tocviewlink" data-pltdoc="x">Quick Start</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="guide-hackett-essentials.html" class="tocviewlink" data-pltdoc="x">Hackett Essentials</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Working with data</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="guide-bottoms.html" class="tocviewlink" data-pltdoc="x">Partial Functions and Nontermination</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>1.3&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Working with data</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.3.1&nbsp;</td><td><a href="#%28part._guide-enumerations%29" class="tocviewlink" data-pltdoc="x">Enumerations</a></td></tr><tr><td align="right">1.3.2&nbsp;</td><td><a href="#%28part._guide-intro-to-lists%29" class="tocviewlink" data-pltdoc="x">An introduction to lists</a></td></tr><tr><td align="right">1.3.3&nbsp;</td><td><a href="#%28part._guide-intro-to-maybe%29" class="tocviewlink" data-pltdoc="x">Representing operations that can fail</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1.3.1<tt>&nbsp;</tt></span><a href="#%28part._guide-enumerations%29" class="tocsubseclink" data-pltdoc="x">Enumerations</a></td></tr><tr><td><span class="tocsublinknumber">1.3.2<tt>&nbsp;</tt></span><a href="#%28part._guide-intro-to-lists%29" class="tocsubseclink" data-pltdoc="x">An introduction to lists</a></td></tr><tr><td><span class="tocsublinknumber">1.3.3<tt>&nbsp;</tt></span><a href="#%28part._guide-intro-to-maybe%29" class="tocsubseclink" data-pltdoc="x">Representing operations that can fail</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="guide-hackett-essentials.html" title="backward to &quot;1.2 Hackett Essentials&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="guide.html" title="up to &quot;1 The Hackett Guide&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="guide-bottoms.html" title="forward to &quot;1.4 Partial Functions and Nontermination&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>1.3<tt>&nbsp;</tt><a name="(part._guide-working-with-data)"></a>Working with data</h4><p>Hackett is a <span style="font-style: italic">pure</span> programming language, which means functions cannot have side-effects. This
makes Hackett functions truly functions in the mathematical sense&#8212;the output is always the same for a
given input, and a function&#8217;s evaluation cannot do anything but produce a value as output. This
encourages a very <span style="font-style: italic">data-oriented</span> style of programming, assembling pipelines of pure functions
that operate on data structures.</p><p>For that reason, the basic building blocks of Hackett are built around producing and consuming data,
and Hackett makes it easy to define new data structures. You&#8217;ve already seen integers, but Hackett
provides a myriad of built-in datatypes. This section will cover some of those datatypes, how to
produce and consume them, and how to build your own.</p><h5>1.3.1<tt>&nbsp;</tt><a name="(part._guide-enumerations)"></a>Enumerations</h5><p>One of the most fundamental sorts of data that can be represented in Hackett are
<span style="font-style: italic">enumerations</span>, often called &#8220;enums&#8221; in other languages. An enumeration is a type that can be
one of a set of predefined values. For example, the days of the week form an obvious enumeration. We
can define that enumeration in Hackett using the <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._data%29%29" class="RktStxLink" data-pltdoc="x">data</a></span> form:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._data%29%29" class="RktStxLink" data-pltdoc="x">data</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Weekday</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">sunday</span><span class="hspace">&nbsp;</span><span class="RktSym">monday</span><span class="hspace">&nbsp;</span><span class="RktSym">tuesday</span><span class="hspace">&nbsp;</span><span class="RktSym">wednesday</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">thursday</span><span class="hspace">&nbsp;</span><span class="RktSym">friday</span><span class="hspace">&nbsp;</span><span class="RktSym">saturday</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>This declaration defines two things: a <a href="guide-hackett-essentials.html#%28tech._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">type</span></a> and a set of <a href="guide-hackett-essentials.html#%28tech._value%29" class="techoutside" data-pltdoc="x"><span class="techinside">values</span></a>. Specifically, it
defines a new type named <span class="RktSym">Weekday</span>, and it defines 7 values, <span class="RktSym">monday</span> through
<span class="RktSym">sunday</span>. You can see that each of these names are bound to values of the <span class="RktSym">Weekday</span>
type by evaluating them in the REPL:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktSym">monday</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Weekday</span></p></td></tr><tr><td><p><span class="RktRes">monday</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktSym">thursday</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Weekday</span></p></td></tr><tr><td><p><span class="RktRes">thursday</span></p></td></tr></table></td></tr></table></blockquote><p>Of course, these values are not very interesting on their own. Presumably, once we have an
enumeration, we would like to be able to <span style="font-style: italic">do something</span> with its values. For example, we might
wish to write a function that determines if a weekday is a weekend&#8212;that is, if it is <span class="RktSym">sunday</span>
or <span class="RktSym">saturday</span>. To do this, we need some way to check if a weekday is a particular value.</p><p>We can do this by using <span style="font-style: italic">pattern matching</span>, which makes it possible to make a decision based on
the different values of an enumeration. Here&#8217;s one way to write our <span class="RktSym">is-weekend?</span> function:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._defn%29%29" class="RktStxLink" data-pltdoc="x">defn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">is-weekend?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym">Weekday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">sunday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">monday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">tuesday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">wednesday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">thursday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">friday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">saturday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">is-weekend?</span><span class="hspace">&nbsp;</span><span class="RktSym">saturday</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Bool</span></p></td></tr><tr><td><p><span class="RktRes">True</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">is-weekend?</span><span class="hspace">&nbsp;</span><span class="RktSym">wednesday</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Bool</span></p></td></tr><tr><td><p><span class="RktRes">False</span></p></td></tr></table></td></tr></table></blockquote><p>This works! Each clause in <span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._defn%29%29" class="RktStxLink" data-pltdoc="x">defn</a></span> provides a <font class="badlink"><span class="techoutside"><span class="techinside">pattern</span></span></font> to match against. If a pattern is
the name of an enumeration value, it only matches if the supplied argument is that specific value.</p><p>Sadly, while the above definition works, it&#8217;s a little wordy. To simplify it a little, it&#8217;s possible
to use the special <span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span> pattern, which matches <span style="font-style: italic">any</span> value. This can be used to create a
sort of &#8220;fallthrough&#8221; case:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._defn%29%29" class="RktStxLink" data-pltdoc="x">defn</a></span><span class="hspace">&nbsp;</span><span class="RktSym">is-weekend?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym">Weekday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Bool%29%29" class="RktValLink" data-pltdoc="x">Bool</a></span><span class="RktPn">}</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">sunday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym">saturday</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.True%29%29" class="RktValLink" data-pltdoc="x">True</a></span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29.__%29%29" class="RktStxLink" data-pltdoc="x">_</a></span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.False%29%29" class="RktValLink" data-pltdoc="x">False</a></span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">is-weekend?</span><span class="hspace">&nbsp;</span><span class="RktSym">saturday</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Bool</span></p></td></tr><tr><td><p><span class="RktRes">True</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">is-weekend?</span><span class="hspace">&nbsp;</span><span class="RktSym">wednesday</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Bool</span></p></td></tr><tr><td><p><span class="RktRes">False</span></p></td></tr></table></td></tr></table></blockquote><p>This works because patterns in <span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._defn%29%29" class="RktStxLink" data-pltdoc="x">defn</a></span> are matched from top to bottom, picking the first one
that successfully matches.</p><h5>1.3.2<tt>&nbsp;</tt><a name="(part._guide-intro-to-lists)"></a>An introduction to lists</h5><p>While it&#8217;s great to be able to represent weekdays with our <span class="RktSym">Weekday</span> type, we don&#8217;t have any
way to talk about multiple weekdays at a time. To do this, we need a data structure that can hold
multiple values of the same type. One such data structure is a <a href="reference-datatypes.html#%28tech._list%29" class="techoutside" data-pltdoc="x"><span class="techinside">list</span></a>, which represents a
singly-linked list. Lists are <span style="font-style: italic">homogenous</span>, which means they hold a set of values that all have
the same <a href="guide-hackett-essentials.html#%28tech._type%29" class="techoutside" data-pltdoc="x"><span class="techinside">type</span></a>.</p><p>A list is built out of two fundamental pieces: the empty list, named <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span>, and the &#8220;cons&#8221;
constructor, named <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span>. These have the following types:</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The use of <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span> in the types of <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span> and <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span> indicates that lists are
<span style="font-style: italic">polymorphic</span>&#8212;that is, they can hold values of any type. This will be covered in more detail
in a future section.</p></blockquote></blockquote></blockquote><blockquote><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValDef RktValLink" data-pltdoc="x">Nil</a></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="together"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValDef RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">)</span></p></blockquote></td></tr></table></td></tr></table></blockquote></blockquote><p>Essentially, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span> prepends a single element to an existing list (known as the &#8220;tail&#8221; of the
list), and <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span> is the end of every list. To create a single-element list, use <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span>
to prepend an element to the empty list:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (List Integer)</span></p></td></tr><tr><td><p><span class="RktRes">{1 :: Nil}</span></p></td></tr></table></td></tr></table></blockquote><p>A list of more elements can be created with nested uses of <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (List Integer)</span></p></td></tr><tr><td><p><span class="RktRes">{1 :: 2 :: 3 :: Nil}</span></p></td></tr></table></td></tr></table></blockquote><p>Additionally, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span> is an <a href="guide-hackett-essentials.html#%28tech._infix._operator%29" class="techoutside" data-pltdoc="x"><span class="techinside">infix operator</span></a> that associates right, so nested braces can be
elided when constructing lists:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (List Integer)</span></p></td></tr><tr><td><p><span class="RktRes">{1 :: 2 :: 3 :: Nil}</span></p></td></tr></table></td></tr></table></blockquote><p>Once we have a list, we can do various things with it. For example, we can concatenate two lists
together using the <span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%2B%29%29" class="RktValLink" data-pltdoc="x">++</a></span> operator:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%2B%29%29" class="RktValLink" data-pltdoc="x">++</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span><span class="RktPn">}</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (List Integer)</span></p></td></tr><tr><td><p><span class="RktRes">{1 :: 2 :: 3 :: 4 :: Nil}</span></p></td></tr></table></td></tr></table></blockquote><p>We can sum a list of numbers using the <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._sum%29%29" class="RktValLink" data-pltdoc="x">sum</a></span> function:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._sum%29%29" class="RktValLink" data-pltdoc="x">sum</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">6</span></p></td></tr></table></td></tr></table></blockquote><p>We can even apply a function to each element of a list to produce a new list by using the <span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span>
function:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (List Integer)</span></p></td></tr><tr><td><p><span class="RktRes">{2 :: 3 :: 4 :: Nil}</span></p></td></tr></table></td></tr></table></blockquote><p>Combining this with our <span class="RktSym">Weekday</span> type from earlier, we can create a list of all the days in
the week:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._def%29%29" class="RktStxLink" data-pltdoc="x">def</a></span><span class="hspace">&nbsp;</span><span class="RktSym">weekdays</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._.List%29%29" class="RktStxLink" data-pltdoc="x">List</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Weekday</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">{</span><span class="RktSym">sunday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym">monday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym">tuesday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym">wednesday</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym">thursday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym">friday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym">saturday</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>The <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._filter%29%29" class="RktValLink" data-pltdoc="x">filter</a></span> allows selecting elements from a list that match a given predicate. Using
<span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._filter%29%29" class="RktValLink" data-pltdoc="x">filter</a></span> combined with the <span class="RktSym">is-weekend?</span> function we wrote earlier, it&#8217;s possible to
produce a list that contains only weekends:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._filter%29%29" class="RktValLink" data-pltdoc="x">filter</a></span><span class="hspace">&nbsp;</span><span class="RktSym">is-weekend?</span><span class="hspace">&nbsp;</span><span class="RktSym">weekdays</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (List Weekday)</span></p></td></tr><tr><td><p><span class="RktRes">{sunday :: saturday :: Nil}</span></p></td></tr></table></td></tr></table></blockquote><h5>1.3.3<tt>&nbsp;</tt><a name="(part._guide-intro-to-maybe)"></a>Representing operations that can fail</h5><p>While it&#8217;s interesting that we can construct lists and iterate over them, it&#8217;s important to be able to
<span style="font-style: italic">consume</span> lists as well. In many languages, there are functions to access the first element of a
list, and Hackett has such a function, too, called <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._head%29%29" class="RktValLink" data-pltdoc="x">head</a></span>. However, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._head%29%29" class="RktValLink" data-pltdoc="x">head</a></span> is an
interesting operation, since it can <span style="font-style: italic">fail</span>. What happens if we try to get the first element of
an empty list?</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._head%29%29" class="RktValLink" data-pltdoc="x">head</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (Maybe Integer)</span></p></td></tr><tr><td><p><span class="RktRes">Nothing</span></p></td></tr></table></td></tr></table></blockquote><p>Rather than produce an error, Hackett returns <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span>. At first, this might seem like
<span class="stt">null</span> or <span class="stt">nil</span> in other languages, but it isn&#8217;t&#8212;in those languages, almost <span style="font-style: italic">anything</span> has
the potential to be <span class="stt">null</span>, so it&#8217;s easy to accidentally forget to properly handle <span class="stt">null</span> cases.
In Hackett, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span> is just an ordinary value of type <span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="RktPn">)</span>.</p><p>To see why this is different, let&#8217;s apply <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._head%29%29" class="RktValLink" data-pltdoc="x">head</a></span> to a list that actually does contain some
elements:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._head%29%29" class="RktValLink" data-pltdoc="x">head</a></span><span class="hspace">&nbsp;</span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~3a~3a%29%29" class="RktValLink" data-pltdoc="x">::</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nil%29%29" class="RktValLink" data-pltdoc="x">Nil</a></span><span class="RktPn">}</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (Maybe Integer)</span></p></td></tr><tr><td><p><span class="RktRes">(Just 1)</span></p></td></tr></table></td></tr></table></blockquote><p>Note that it is wrapped in <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span>. This is because the <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span> type is a wrapper that
encodes the notion that the value might not be there. If it is, it is wrapped in <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span>. If it
isn&#8217;t, it&#8217;s the plain value <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span>.</p><p>Many Hackett functions produce <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span>-wrapped values, since there are many operations that
have the potential to fail. Importantly, this is always expressed in the function&#8217;s type:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">#:type</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._head%29%29" class="RktValLink" data-pltdoc="x">head</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">: (forall (a) {(List a) -&gt; (Maybe a)})</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">#:type</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._tail%29%29" class="RktValLink" data-pltdoc="x">tail</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">: (forall (a) {(List a) -&gt; (Maybe (List a))})</span></p></td></tr></table></blockquote><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>While this is generally true&#8212;the majority of Hackett functions express failure potential at the type
level&#8212;this is not <span style="font-style: italic">guaranteed</span> by the typechecker. For more information on the ways functions
can fail at runtime, see <a href="guide-bottoms.html" data-pltdoc="x">Partial Functions and Nontermination</a>.</p></blockquote></blockquote></blockquote><p>Since <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span> is explicitly annotated in the return type (rather than always implicitly
possible, like <span class="stt">null</span> in many other languages), you can know exactly which functions can fail, and
the typechecker will ensure you properly handle the failure case.</p><p>Of course, while this is very nice, it&#8217;s not completely useful to get back a value of type
<span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span><span class="stt"> </span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span> if we really need an <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span>, since the two are entirely
different types. We cannot, for example, add an <span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span> to a <span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span><span class="stt"> </span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">{</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">}</span></td></tr><tr><td><p><span class="RktErr">eval:560:19: typechecker: type mismatch</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">between: (Maybe Integer)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">and: Integer</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">in: (Just 2)</span></p></td></tr></table></blockquote><p>So, at some point, we need to have <span style="font-style: italic">some</span> way to unwrap the <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span> wrapper. One way to
do this is using the <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._from-maybe%29%29" class="RktValLink" data-pltdoc="x">from-maybe</a></span> function:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktPn">#:type</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._from-maybe%29%29" class="RktValLink" data-pltdoc="x">from-maybe</a></span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">: (forall (a b) {a -&gt; (Maybe a) -&gt; a})</span></p></td></tr></table></blockquote><p>Note that this function is <span style="font-style: italic">not</span> <span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3aforall%29%29" class="RktStxLink" data-pltdoc="x">forall</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym">a</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">{</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym">a</span><span class="RktPn">}</span><span class="RktPn">)</span>! Such a function
would entirely defeat the purpose of using <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span> to indicate failure, since it would not
have any way to properly handle the <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span> case. Instead, <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._from-maybe%29%29" class="RktValLink" data-pltdoc="x">from-maybe</a></span> requires that
you specify a default value to produce in the event that the second argument is <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._from-maybe%29%29" class="RktValLink" data-pltdoc="x">from-maybe</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">42</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._from-maybe%29%29" class="RktValLink" data-pltdoc="x">from-maybe</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: Integer</span></p></td></tr><tr><td><p><span class="RktRes">0</span></p></td></tr></table></td></tr></table></blockquote><p>However, this is not always the right thing to do. Sometimes, a default value might not make any
sense. Sometimes, a failure is something that needs to be handled at a different level, not
immediately, but you might still want to modify the value inside a <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span> wrapper. To do this,
it&#8217;s actually possible to use the <span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span> function to modify the value inside <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span>, in
the same way that it&#8217;s possible to modify the values inside a list:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span><span class="hspace">&nbsp;</span><span class="RktVal">11</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (Maybe Integer)</span></p></td></tr><tr><td><p><span class="RktRes">(Just 12)</span></p></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-syntactic-forms.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~3a%29%29" class="RktStxLink" data-pltdoc="x">:</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="reference-datatypes.html#%28form._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Integer%29%29" class="RktStxLink" data-pltdoc="x">Integer</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" cellpadding="0"><tr><td><p><span class="RktRes">: (Maybe Integer)</span></p></td></tr><tr><td><p><span class="RktRes">Nothing</span></p></td></tr></table></td></tr></table></blockquote><p>If this is confusing to you, you can think of <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span> as a special case of <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span>:
while a value of type <span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.List%29%29" class="RktValLink" data-pltdoc="x">List</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="RktPn">)</span> can hold <span style="font-style: italic">any number</span> of <span class="RktVar">a</span>s, a value of type
<span class="RktPn">(</span><span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._~23~25hackett-type~3a.Maybe%29%29" class="RktValLink" data-pltdoc="x">Maybe</a></span><span class="stt"> </span><span class="RktVar">a</span><span class="RktPn">)</span> can hold <span style="font-style: italic">exactly zero or one</span> <span class="RktVar">a</span>. Using the <span class="RktSym"><a href="reference-typeclasses.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span> function
on a value wrapped in <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Just%29%29" class="RktValLink" data-pltdoc="x">Just</a></span> is therefore sort of like mapping over a single-element list, and
using it on <span class="RktSym"><a href="reference-datatypes.html#%28def._%28%28lib._hackett%2Fmain..rkt%29._.Nothing%29%29" class="RktValLink" data-pltdoc="x">Nothing</a></span> is like mapping over the empty list.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="guide-hackett-essentials.html" title="backward to &quot;1.2 Hackett Essentials&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="guide.html" title="up to &quot;1 The Hackett Guide&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="guide-bottoms.html" title="forward to &quot;1.4 Partial Functions and Nontermination&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>